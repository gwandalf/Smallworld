//------------------------------------------------------------------------------
// <auto-generated>
//     Ce code a été généré par un outil
//     Les modifications apportées à ce fichier seront perdues si le code est régénéré.
// </auto-generated>
//------------------------------------------------------------------------------
namespace Modele.Creation
{
	using Modele.Jeu;
	using System;
	using System.Collections.Generic;
	using System.Linq;
	using System.Text;
	using Modele.Jeu;

	/// <remarks>
	/// Singleton
	/// 
	/// </remarks>
	public class GameInitiator : GameInitiatorI
	{
        public static GameInitiator INSTANCE = new GameInitiator();

        private MonteurPartie monteurPartie;
		public MonteurPartieI MonteurPartie
		{
			get;
			set;
		}

        private FabriqueUniteI fabriqueUnite1;
		public FabriqueUniteI FabriqueUnite1
		{
			get;
			set;
		}

        private FabriqueUniteI fabriqueUnite2;
		public FabriqueUniteI FabriqueUnite2
		{
			get;
			set;
		}

		private GameInitiator()
		{
            //TODO interface avec boutons (?)
		}

        /**
         * \fn public Partie creerPartie()
         * \brief creation of a party using the builder
         * 
         */
		public PartieI creerPartie()
		{
            monteurPartie.setFabriqueUnite(1, fabriqueUnite1);
            monteurPartie.setFabriqueUnite(2, fabriqueUnite2);
            List<JoueurI> joueurs = monteurPartie.makeJoueurs();
            CarteI carte = monteurPartie.makeCarte(joueurs);
            return new Partie(joueurs, monteurPartie.NbTours, carte);
		}

	}
}

