//------------------------------------------------------------------------------
// <auto-generated>
//     Ce code a été généré par un outil
//     Les modifications apportées à ce fichier seront perdues si le code est régénéré.
// </auto-generated>
//------------------------------------------------------------------------------
namespace Modele.Creation
{
	using Modele.Jeu;
	using System;
	using System.Collections.Generic;
	using System.Linq;
	using System.Text;

	/// <remarks>
	/// Singleton
	/// 
	/// </remarks>
	public class GameInitiator : GameInitiatorI
	{
        public static GameInitiator INSTANCE = new GameInitiator();

        private MonteurPartieI monteurPartie;
		public MonteurPartieI MonteurPartie
		{
            get { return monteurPartie; }
            set { monteurPartie = value; }
		}

        private List<FabriqueUniteI> fabriquesUnite;
		public List<FabriqueUniteI> FabriquesUnite
		{
            get { return fabriquesUnite; }
            set { fabriquesUnite = value; }
		}

		private GameInitiator()
		{
            //TODO interface avec boutons (?)
		}

        /**
         * \fn public Partie creerPartie()
         * \brief creation of a party using the builder
         * 
         */
		public PartieI creerPartie()
		{
            monteurPartie.FabriquesUnite = fabriquesUnite;
            List<JoueurI> joueurs = monteurPartie.makeJoueurs();
            CarteI carte = monteurPartie.makeCarte(joueurs);
            return new Partie(joueurs, monteurPartie.NbTours, carte);
		}

	}
}

